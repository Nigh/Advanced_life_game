
# Advanced Life Game


## brief

- 矩形场地，有界
- 空间以网格为单位
- 每个网格可以承载人口
- 每个网格拥有可再生资源，资源再生速度与资源存量正相关
- 单个网格内资源耗尽后，将不可再生
- 人口同时对资源与群落有偏好，各有一定权重
- 人口在偏好的基础上在各网格内迁入或迁出
- 人口将会消耗所在网格的资源
- 人口越多，对资源利用率越高，即人均资源占用越少
- 人口出生率与人均资源占用相关
- 每个网格承载资源的上限为其初始值1.5倍

## process

1. 资源消耗
2. 资源再生
3. 人口出生与死亡
4. 人口迁移


## detail

初始聚落人口平均62，资源平均200

- 基础人均资源消耗为0.2 cmax
- 最少人均资源消耗为0.07 cmin
- 资源再生速率为自身的6%
- 人均资源消耗水平: c = cmax-(cmax-cmin)/3.37*(math.ln(pp+13)-2.63)
- 人均资源占有: rp = res/(pp+1)
- 出生率: nat = (math.log10(rp*5+1))/10-0.104
	+ rp = 2时 nat = 0
	+ rp = 0时 nat = -10%
- 迁移权重:
	+ 比之于富饶的物产，人们更愿意跟群体待在一起
	+ 人均资源占用在高于一定水平时会产生正吸引力，否则产生负吸引力
	+ 人口数过低会产生负吸引力
	+ 人均资源krp = -((20/grid.rp)*0.15)
	+ 人口数kpp = math.log((grid.pp+1)/10)
	+ 人口迁移最大速率限制,每次最多20单位
	+ 如果不是全部迁移,则每次迁移不能超过总人口一半
	+ 迁移时,80%可能往吸引力最大方向迁移,20%产生随机迁移
	+ 如果本地资源耗尽，则产生panic，强制随机迁移
